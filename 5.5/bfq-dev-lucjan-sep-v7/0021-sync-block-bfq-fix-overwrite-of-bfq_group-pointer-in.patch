From 138d2a96b10b8ac41c18c3fbc1397d2060440aaf Mon Sep 17 00:00:00 2001
From: Piotr Gorski <lucjan.lucjanov@gmail.com>
Date: Sat, 7 Mar 2020 01:10:09 +0100
Subject: [PATCH 21/21] sync: block, bfq: fix overwrite of bfq_group pointer in
 bfq_find_set_group()

Signed-off-by: Piotr Gorski <lucjan.lucjanov@gmail.com>
---
 block/bfq-cgroup.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/block/bfq-cgroup.c b/block/bfq-cgroup.c
index ff6e1e345690..16cead8f5a81 100644
--- a/block/bfq-cgroup.c
+++ b/block/bfq-cgroup.c
@@ -632,7 +632,7 @@ struct bfq_group *bfq_find_set_group(struct bfq_data *bfqd,
 	for_each_entity(entity) {
 		struct bfq_group *curr_bfqg = container_of(entity,
 						struct bfq_group, entity);
-		BFQ_BUG_ON(!bfqg);
+		BFQ_BUG_ON(!curr_bfqg);
 		if (curr_bfqg != bfqd->root_group) {
 			parent = bfqg_parent(curr_bfqg);
 			if (!parent)
-- 
2.25.1.460.g2f268890c2.dirty

